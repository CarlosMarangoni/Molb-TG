<div class="btn" (click)="backClicked()"><mat-icon>keyboard_backspace</mat-icon></div>
<div class="pt-5">
    
        <div class="border">
        <div class="mx-4 mt-2 d-flex justify-content-around" style="min-width: 40%">
            <div>ID: {{user.id}}</div>
            <div>Username: {{user.user}}</div>
        </div>

        <div class="d-flex justify-content-around mb-2" style="min-width: 40%">
            <div class="text-center">
                Permissões:
                    <span class="border rounded m-1 p-1" *ngFor="let role of user.permissions;let i = index" >
                    {{role}} <span class="btn btn-sm rounded-circle" (click)="removePermission(i)">	<mat-icon class="align-middle">close</mat-icon></span>
    
                </span>
            </div>
            <div></div>
        </div>
    </div>
    <form action="" (ngSubmit)="f.form.valid && onSubmit(f,modal)" #f="ngForm" novalidate>
        <h1 class="text-center mt-5">Adicionar Permissões</h1>
        <div class="d-flex justify-content-between form-group">
                <select  class="form-control" [(ngModel)]="form.role" name="role" (selectionChange)="eventSelection($event)" #role="ngModel">


            <option *ngFor="let role of roles" [value]="role.name">{{role.name}}</option>
            </select>
                <div class="btn btn-primary" (click)="addPermission()">+</div>
           
        </div>
        <div class="d-flex justify-content-center">
        <button class="btn btn-success" type="submit">Salvar</button>
    </div>
    </form>
    <form action="" (ngSubmit)="resetPassword(s,modalSenha)" #s="ngForm">
    <h1 class="text-center mt-5">Resetar senha</h1>
        <div class="form-group">
                <input name="password" id="password" type="password" class="form-control" [(ngModel)]="form.password">
           
        </div>
        <div class="d-flex justify-content-center">
        <button class="btn btn-success" type="submit">Resetar</button>
        </div>
    </form>
</div>

<ng-template #modal let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">
            Usuários
        </h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
  
            <span aria-hidden="true">
                ×
            </span>
        </button>
    </div>
    <div class="modal-body d-flex justify-content-center">
        <h4>Permissão alterada com sucesso!</h4>
    </div>
    <div class="modal-footer justify-content-center">
        <button type="button" class="btn btn-danger" (click)="modal.dismiss('Cross click')">
            Cancelar
        </button>
        <button type="button" class="btn btn-success" (click)="modal.close('Save click')">
            OK
        </button>
    </div>
</ng-template>

<ng-template #modalSenha let-modalSenha>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">
            Usuários
        </h4>
        <button type="button" class="close" aria-label="Close" (click)="modalSenha.dismiss('Cross click')">
  
            <span aria-hidden="true">
                ×
            </span>
        </button>
    </div>
    <div class="modal-body d-flex justify-content-center">
        <h4>Senha alterada com sucesso!</h4>
    </div>
    <div class="modal-footer justify-content-center">
        <button type="button" class="btn btn-danger" (click)="modalSenha.dismiss('Cross click')">
            Cancelar
        </button>
        <button type="button" class="btn btn-success" (click)="modalSenha.close('Save click')">
            OK
        </button>
    </div>
</ng-template>