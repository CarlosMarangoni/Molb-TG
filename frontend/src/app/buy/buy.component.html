<div class="container">
    <div style="padding-top: 200px;">
    <h1 class="text-center mt-5"><strong>Carrinhos de compras</strong></h1>
    <div class="alert border border-10 border-secondary text-center" *ngIf="cartList.length === 0">O carrinho está vazio.</div>
    <form name="form" (ngSubmit)="onSubmit(f,modal)" novalidate method="post" #f="ngForm">
        <div>
            <table class="table table-striped table-light border border-10 border-secondary" *ngIf="cartList.length > 0">
                <thead>
                    <tr>
                        <th scope="col">#</th>
                        <th scope="col"></th>
                        <th scope="col">Descrição</th>
                        <th scope="col">Preço</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let item of cartList;  let i = index">
                        <td>{{i+1}}</td>
                        <input type="hidden" name="itemPostId{{i}}" id="itemPostId{{i}}" [(ngModel)]="item.postId" #itemPostId{{i}}="ngModel">
                        <input type="hidden" name="itemItem{{i}}" id="itemItem{{i}}" [(ngModel)]="item.item" #itemItem{{i}}="ngModel">
                        <td><img [src]="item.postImageUrl" alt="" style="height: 100px;"></td>
                        <td>{{item.description}}</td>
                        <td>{{item.price | currency:'BRL'}}</td>

                    </tr>
                </tbody>
            </table>
            <div class="d-flex justify-content-around">
                <div></div>
                <div></div>
                <h3 class="text-right"><strong>Total: </strong>{{total | currency:'BRL'}}</h3>
            </div>
        </div>
        <div class="d-flex justify-content-center">
        <button class="lg:mx-0 hover:underline gradient text-white font-bold rounded-full my-6 py-4 px-8 shadow-lg focus:outline-none focus:shadow-outline transform transition hover:scale-105 duration-300 ease-in-out" style="width: 50%;" type="submit">Comprar</button>
    </div>
    </form>

</div>
</div>

<ng-template #modal let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">
            Postagens
        </h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
  
            <span aria-hidden="true">
                ×
            </span>
        </button>
    </div>
    <div class="modal-body d-flex justify-content-center">
        <h4>Compra realizada com sucesso!</h4>

    </div>
    <h3 class="mx-2 text-center">Por favor, avalie a postagem para ajudar os próximos usuários que vão comprar!</h3>

    <div class="modal-footer justify-content-center">
        <button type="button" class="btn btn-danger" (click)="modal.dismiss('Cross click')">
            Cancelar
        </button>
        <button type="button" class="btn btn-success" (click)="modal.close('Save click')">
            OK
        </button>
    </div>
</ng-template>